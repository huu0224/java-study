class Solution {
    public String solution(String video_len, String pos, String op_start, String op_end, String[] commands) {
        // 1. 모든 시간을 초 단위로 변환
        int videoLimit = timeToSecond(video_len);
        int currentTime = timeToSecond(pos);
        int openingStart = timeToSecond(op_start);
        int openingEnd = timeToSecond(op_end);

        // 2. 시작 위치가 오프닝 구간인지 먼저 확인
        currentTime = skipOpening(currentTime, openingStart, openingEnd);

        // 3. 명령어 수행
        for (String command : commands) {
            if (command.equals("prev")) {
                currentTime = Math.max(0, currentTime - 10);
            } else if (command.equals("next")) {
                currentTime = Math.min(videoLimit, currentTime + 10);
            }
            
            // 명령어 수행 후 다시 오프닝 체크
            currentTime = skipOpening(currentTime, openingStart, openingEnd);
        }

        // 4. 최종 시간을 "mm:ss" 형식으로 변환하여 반환
        return secondToTime(currentTime);
    }

    // "mm:ss" -> 초(int) 변환 함수
    private int timeToSecond(String time) {
        String[] split = time.split(":");
        int m = Integer.parseInt(split[0]);
        int s = Integer.parseInt(split[1]);
        return m * 60 + s;
    }

    // 초(int) -> "mm:ss" 변환 함수
    private String secondToTime(int totalSecond) {
        int m = totalSecond / 60;
        int s = totalSecond % 60;
        return String.format("%02d:%02d", m, s);
    }

    // 오프닝 구간일 경우 건너뛰는 함수
    private int skipOpening(int current, int start, int end) {
        if (current >= start && current <= end) {
            return end;
        }
        return current;
    }
}
